<!DOCTYPE html>
<html>

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Rhythm Typer Skin Maker</title>

  <style>
    body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #121212;
  color: white;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}
input[type='radio'] {
  display: none;
}
.screen {
  display: none;
  text-align: center;
  max-width: 900px;
  width: 100%;
}
#home:checked ~ .screens .home,
#editor:checked ~ .screens .editor,
#credits:checked ~ .screens .credits {
  display: block;
}

.button {
  display: inline-block;
  padding: 10px 20px;
  font-size: 16px;
  margin: 5px;
  border-radius: 8px;
  background: #3b82f6;
  cursor: pointer;
  user-select: none;
  color: white;
}

.editor-panel {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 10px;
  align-items: center;
}
input[type='text'],
input[type='color'] {
  padding: 8px;
  border-radius: 5px;
  border: none;
  font-size: 14px;
  width: 100%;
  max-width: 300px;
}

.color-row {
  display: flex;
  align-items: center;
  gap: 10px;
}
.color-preview {
  width: 40px;
  height: 25px;
  border-radius: 4px;
  border: 2px solid white;
  cursor: pointer;
}

.toggle-container {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
  cursor: pointer;
  user-select: none;
}
.toggle-switch {
  position: relative;
  width: 50px;
  height: 24px;
  background: #555;
  border-radius: 12px;
  flex-shrink: 0;
  transition: background 0.3s;
}
.toggle-switch::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  background: white;
  border-radius: 50%;
  top: 2px;
  left: 2px;
  transition: left 0.3s;
}
.toggle-switch.active {
  background: #3b82f6;
}
.toggle-switch.active::after {
  left: 28px;
}

.preview-container {
  display: flex;
  align-items: flex-start;
  gap: 50px;
  margin-top: 10px;
}
.note-preview {
  display: flex;
  flex-direction: column;
  gap: 20px;
  justify-content: flex-start;
  align-items: center;
}

#tapNote {
  width: 40px;
  height: 40px;
  border: 3px solid #555555;
  border-radius: 8px;
  background: transparent;
}
#holdNote {
  position: relative;
  width: 70px;
  height: 70px;
  border: 3px solid #555555;
  border-radius: 14px;
  background: transparent;
}
.hold-fill {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 14px;
  background: rgba(85, 85, 85, 0.4);
  z-index: 1;
}
.hold-inner {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 40px;
  height: 40px;
  border-radius: 8px;
  border: 3px solid #555555;
  background: #121212;
  transform: translate(-50%, -50%);
  z-index: 2;
}

.keyboard {
  display: grid;
  grid-template-columns: repeat(10, 50px);
  grid-auto-rows: 50px;
  gap: 6px;
}
.key {
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  font-size: 16px;
  border-radius: 10px;
  border: 2px solid #555555;
  color: #555555;
  background: rgba(85, 85, 85, 0.1);
}

pre {
  background: #0f172a;
  padding: 10px;
  text-align: left;
  overflow-x: auto;
  border-radius: 8px;
  font-size: 13px;
  display: none;
  width: 100%;
  max-width: 700px;
  margin-top: 10px;
}

  </style>

  
</head>
<body>
  <input type="radio" name="screen" id="home" checked hidden />
<input type="radio" name="screen" id="editor" hidden />
<input type="radio" name="screen" id="credits" hidden />

<div class="screens">
  <div class="screen home">
    <h1>Rhythm Typer Skin Maker</h1>
    <label class="button" for="editor">Skin Editor</label>
    <label class="button" for="credits">Credits</label>
  </div>

  <div class="screen editor">
    <h1>Editor</h1>
    <div class="editor-panel">
      <input id="name" placeholder="Skin Name" />
      <input id="author" placeholder="Author" />
      <input id="version" placeholder="Version" />
      <input id="description" placeholder="Description" />

      <div class="color-row">
        <span>Beat color</span>
        <input type="color" id="beatColorInput" value="#555555" hidden />
        <div
          class="color-preview"
          id="beatColorBox"
          style="background: #555555"
        ></div>
      </div>

      <div class="toggle-container">
        <span>Show JSON Code</span>
        <div class="toggle-switch" id="codeToggle"></div>
      </div>

      <div class="preview-container" id="previewContainer">
        <div class="note-preview">
          <div id="tapNote"></div>
          <div id="holdNote">
            <div class="hold-fill"></div>
            <div class="hold-inner"></div>
          </div>
        </div>

        <div class="keyboard" id="keyboardPreview">
          <div class="key">Q</div>
          <div class="key">W</div>
          <div class="key">E</div>
          <div class="key">R</div>
          <div class="key">T</div>
          <div class="key">Y</div>
          <div class="key">U</div>
          <div class="key">I</div>
          <div class="key">O</div>
          <div class="key">P</div>
          <div class="key">A</div>
          <div class="key">S</div>
          <div class="key">D</div>
          <div class="key">F</div>
          <div class="key">G</div>
          <div class="key">H</div>
          <div class="key">J</div>
          <div class="key">K</div>
          <div class="key">L</div>
          <div class="key">;</div>
          <div class="key">Z</div>
          <div class="key">X</div>
          <div class="key">C</div>
          <div class="key">V</div>
          <div class="key">B</div>
          <div class="key">N</div>
          <div class="key">M</div>
          <div class="key">,</div>
          <div class="key">.</div>
          <div class="key">/</div>
        </div>
      </div>

      <pre id="jsonPreview"></pre>

      <div style="display: flex; gap: 10px">
        <label class="button" for="home">Back</label>
        <button class="button" id="downloadZip">Download ZIP</button>
      </div>
    </div>
  </div>

  <div class="screen credits">
    <h1>Credits</h1>
    <p>Coders: Vixenn_<br />Looks: Pie</p>
    <label class="button" for="home">Back</label>
  </div>
</div>

  <script>
    (function () {
  const skinData = {
    name: "",
    author: "",
    version: "",
    description: "",
    colors: {
      approachCircle: "#555555",
      holdNote: "#555555",
      holdNoteActive: "#555555",
    },
  };

  ["name", "author", "version", "description"].forEach((id) => {
    document.getElementById(id).addEventListener("input", (e) => {
      skinData[id] = e.target.value;
      updateJSON();
    });
  });

  const colorInput = document.getElementById("beatColorInput");
  const colorBox = document.getElementById("beatColorBox");
  const tapNote = document.getElementById("tapNote");
  const holdNote = document.getElementById("holdNote");
  const holdInner = holdNote.querySelector(".hold-inner");
  const holdFill = holdNote.querySelector(".hold-fill");
  const codeToggle = document.getElementById("codeToggle");
  const jsonPreview = document.getElementById("jsonPreview");
  const previewContainer = document.getElementById("previewContainer");

  colorBox.addEventListener("click", () => colorInput.click());

  colorInput.addEventListener("input", () => {
    const color = colorInput.value;
    colorBox.style.background = color;
    tapNote.style.borderColor = color;
    holdInner.style.borderColor = color;
    holdNote.style.borderColor = color;
    holdFill.style.background = hexToRGBA(color, 0.4);
    skinData.colors.approachCircle = color;
    skinData.colors.holdNote = color;
    skinData.colors.holdNoteActive = color;
    updateJSON();
  });

  codeToggle.addEventListener("click", () => {
    codeToggle.classList.toggle("active");
    if (codeToggle.classList.contains("active")) {
      jsonPreview.style.display = "block";
      previewContainer.style.display = "none";
    } else {
      jsonPreview.style.display = "none";
      previewContainer.style.display = "flex";
    }
  });

  function hexToRGBA(hex, alpha) {
    const r = parseInt(hex.slice(1, 3), 16);
    const g = parseInt(hex.slice(3, 5), 16);
    const b = parseInt(hex.slice(5, 7), 16);
    return `rgba(${r},${g},${b},${alpha})`;
  }

  function updateJSON() {
    jsonPreview.textContent = `{
  "name": "${skinData.name}",
  "author": "${skinData.author}",
  "version": "${skinData.version}",
  "description": "${skinData.description}",

  "colors": {
    "approachCircle": "${skinData.colors.approachCircle}",
    "holdNote": "${skinData.colors.holdNote}",
    "holdNoteActive": "${skinData.colors.holdNoteActive}"
  }
}`;
  }

  const script = document.createElement("script");
  script.src =
    "https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.0/jszip.min.js";
  script.onload = () => {
    document.getElementById("downloadZip").addEventListener("click", () => {
      const zip = new JSZip();
      zip.file("skin.json", jsonPreview.textContent);
      const zipName = skinData.name.trim() ? skinData.name.trim() : "skin";
      zip.generateAsync({ type: "blob" }).then(function (content) {
        const a = document.createElement("a");
        a.href = URL.createObjectURL(content);
        a.download = `${zipName}.zip`;
        a.click();
        URL.revokeObjectURL(a.href);
      });
    });
  };
  document.head.appendChild(script);

  updateJSON();
})();

  </script>
</body>
</html>
